# 主力选股功能 - 快速使用指南

## ✨ 核心特点

**整体批量分析，不是逐个分析！**

传统方式：获取100只股票 → 逐个分析（慢，费时）  
本系统：获取100只股票 → **整体分析** → 精选优质标的（快速高效）

## 🔄 工作流程

```
1️⃣ 数据获取
   └─ 使用pywencai获取主力资金净流入前100名
   └─ 包含：资金、涨跌幅、行业、市值、财务等完整数据

2️⃣ 智能筛选  
   └─ 涨幅过滤（<30%，避免追高）
   └─ 市值筛选（50-1300亿）
   └─ ST股过滤

3️⃣ 整体分析（核心创新！）
   ├─ 💰 资金流向分析师
   │   └─ 分析整体资金流向特征
   │   └─ 识别板块资金集中度
   │   └─ 发现资金流入但涨幅不高的机会
   │
   ├─ 📊 行业板块分析师  
   │   └─ 识别当前热点板块
   │   └─ 分析板块轮动态势
   │   └─ 评估各行业发展前景
   │
   └─ 📈 财务基本面分析师
       └─ 评估整体财务质量
       └─ 筛选估值合理的标的
       └─ 关注成长性突出的股票

4️⃣ 综合决策
   └─ 资深研究员AI综合三位分析师意见
   └─ 从候选股票中精选3-5只最优标的
   └─ 给出详细推荐理由和风险提示
```

## 🚀 快速开始

### 步骤1：进入功能
侧边栏点击 **🎯 主力选股**

### 步骤2：设置参数
- **时间区间**：最近3个月（默认）
- **精选数量**：5只（默认）
- **AI模型**：deepseek-chat（快速）

### 步骤3：开始分析
点击 **🚀 开始主力选股**

### 预期时间
- 数据获取：30-60秒
- 整体分析：1-2分钟
- 总耗时：约2-3分钟（比逐个分析快10倍！）

## 📊 分析逻辑

### 为什么是"整体分析"？

**传统逐个分析的问题**：
- ❌ 耗时长（100只股票 × 15秒 = 25分钟）
- ❌ 成本高（大量API调用）
- ❌ 缺乏全局视角

**整体分析的优势**：
- ✅ 快速高效（2-3分钟完成）
- ✅ 成本低（3次AI调用）
- ✅ 宏观视角（板块热点、资金流向）
- ✅ 更符合实际选股逻辑

### AI分析师如何工作？

#### 💰 资金流向分析师
```
看什么：
- 哪些板块资金流入最多？
- 主力资金的整体行为特征
- 资金流入但涨幅不高的潜力股

输出：
- 资金集中的热点板块
- 值得关注的3-5只股票
```

#### 📊 行业板块分析师
```
看什么：
- 当前市场热点板块
- 板块轮动和趋势
- 行业发展前景

输出：
- 热点行业识别
- 板块机会评估
- 推荐的优质板块标的
```

#### 📈 财务基本面分析师
```
看什么：
- 整体财务质量分布
- 估值水平合理性
- 成长性突出的股票

输出：
- 基本面优秀的股票
- 估值合理的标的
- 财务风险提示
```

## 🎯 筛选标准

### 数据层面
- ✅ 主力资金净流入前100名
- ✅ 区间涨跌幅 < 30%（避免追高）
- ✅ 市值 50-1300亿（优质中盘）
- ✅ 排除ST股

### 分析层面
- ✅ 资金面：主力看好，持续流入
- ✅ 行业面：热点板块，前景明朗
- ✅ 基本面：财务健康，成长性好
- ✅ 综合性：三方面都不错的均衡标的

## 📋 结果展示

### 精选推荐（3-5只）
每只股票包含：
- **推荐理由**（3-5条，综合三位分析师观点）
- **投资亮点**（突出优势）
- **风险提示**（需要注意的风险）
- **建议仓位**（如20-30%）
- **投资周期**（短期/中期/长期）
- **详细数据**（主力资金、涨跌幅、行业等）

### 候选列表（筛选后所有股票）
- 完整的数据表格
- 可下载CSV格式
- 方便进一步研究

## 💡 使用建议

### 最佳使用时机
```
周末（推荐）
  └─ 为下周交易做准备
  └─ 时间充裕，深入研究

月初
  └─ 调整持仓结构  
  └─ 发现新的机会

热点出现时
  └─ 快速捕捉市场机会
  └─ 参数设置：最近1个月
```

### 参数配置建议
```
保守型：
  时间：6个月
  涨幅：<20%
  精选：3只

平衡型（推荐）：
  时间：3个月
  涨幅：<30%
  精选：5只

激进型：
  时间：1个月
  涨幅：<40%
  精选：8只
```

### 后续操作
```
1. 查看精选推荐
   ↓
2. 阅读AI分析报告
   ↓
3. 查看候选列表完整数据
   ↓
4. 选择2-3只深入研究
   ↓
5. 查看K线和技术指标
   ↓
6. 周一择机建仓
   ↓
7. 加入实时监测
```

## ⚠️ 注意事项

### 环境要求
```bash
Node.js >= 16.0  # 重要！pywencai依赖
pywencai >= 0.7.0
DEEPSEEK_API_KEY  # 在.env中配置
```

### 数据时效
- 数据有1-2天延迟
- 适合中短期投资
- 不适合日内交易

### 市场环境
- **牛市**：效果最佳，资金推动明显
- **震荡**：关注短期机会
- **熊市**：谨慎使用，关注防御性板块

## 🆚 对比说明

### 主力选股 vs 单个分析

| 特性 | 主力选股 | 单个分析 |
|-----|---------|---------|
| 分析对象 | 100只股票整体 | 1只股票 |
| 分析视角 | 宏观（板块、热点） | 微观（个股） |
| 耗时 | 2-3分钟 | 10-15秒/只 |
| 适用场景 | 选股、发现机会 | 研究特定股票 |
| 输出 | 3-5只精选标的 | 1只详细分析 |

### 何时使用？

**使用主力选股**：
- ✅ 不知道买什么股票
- ✅ 想发现市场热点
- ✅ 需要批量筛选
- ✅ 寻找新的投资机会

**使用单个分析**：
- ✅ 已有明确目标股票
- ✅ 需要深入研究
- ✅ 验证投资想法
- ✅ 查看详细技术面

## ❓ 常见问题

### Q: 为什么只精选3-5只？
A: 精选的目的是找出最优标的，太多会降低质量。3-5只足够分散风险，又便于深入研究。

### Q: 推荐结果每次一样吗？
A: 不一样。数据每天更新，AI分析也会考虑最新市场环境。

### Q: 如何判断推荐质量？
A: 看推荐理由是否具体、有数据支撑、逻辑连贯。建议结合自己判断，不要盲目跟从。

### Q: 可以每天用吗？
A: 可以，但建议每周1-2次。数据有延迟，频繁使用意义不大。

## 📈 实战示例

### 场景：周末选股
```
1. 周日晚上运行主力选股
   参数：最近3个月，精选5只

2. 查看结果
   - 精选推荐：5只
   - AI分析：资金、行业、基本面

3. 深入研究
   - 选择前3只
   - 查看K线图
   - 了解公司业务

4. 制定策略
   - 周一开盘价
   - 买入价位
   - 止损止盈

5. 周一执行
   - 分批建仓
   - 加入监测
```

## 🎓 学习建议

1. **先了解逻辑**
   - 理解整体分析的优势
   - 明白三位分析师的作用

2. **实践使用**
   - 先用默认参数试试
   - 查看完整结果

3. **调整优化**
   - 根据市场环境调整参数
   - 找到适合自己的配置

4. **结合其他功能**
   - 单个分析：深入研究精选标的
   - 实时监测：跟踪股价变化
   - 批量分析：对比分析

---

**开始使用**：
```bash
streamlit run app.py
→ 点击 🎯 主力选股
→ 开始分析
```

**祝您投资顺利！** 🚀📈💰

