# 智瞰龙虎功能说明

## 📋 功能概述

**智瞰龙虎**是基于多AI智能体的龙虎榜深度分析系统，通过5位专业分析师的协同工作，为您挖掘次日大概率上涨的潜力股票。

## 🎯 核心特性

### 1. 数据来源
- **数据接口**: StockAPI龙虎榜接口
- **数据内容**: 全量游资上榜交割单历史数据
- **更新时间**: 交易日下午5点40
- **请求频率**: 40次/秒
- **免费额度**: 每日1000次

### 2. AI分析师团队

#### 🎯 游资行为分析师
- 识别活跃游资及其操作风格
- 分析游资席位的进出特征
- 研判游资对个股的态度
- 识别知名"牛散"和"游资大佬"

#### 📈 个股潜力分析师（核心）
- 从龙虎榜数据挖掘潜力股
- **识别次日大概率上涨的股票**
- 分析资金动向和技术形态
- 提供买入价位、目标价位、止损位

#### 🔥 题材追踪分析师
- 识别当前热点题材和概念
- 分析题材的炒作周期
- 预判题材的持续性
- 找出题材龙头和低位补涨股

#### ⚠️ 风险控制专家
- 识别高风险股票和陷阱
- 分析游资出货信号
- 提供风险管理建议
- 识别"拉高出货"等陷阱手法

#### 👔 首席策略师
- 综合所有分析师意见
- 给出最终推荐股票清单（TOP5-8）
- 提供具体操作策略
- 给出仓位管理和持有周期建议

## 📊 主要功能

### 1. AI智能评分排名 ⭐ 核心功能
- **多维度评分**: 对所有上榜股票进行100分制综合评分
- **五大评分维度**:
  - 买入资金含金量 (0-30分)：顶级游资加分多
  - 净买入额评分 (0-25分)：真金白银越多分数越高
  - 卖出压力评分 (0-20分)：压力越小分数越高
  - 机构共振评分 (0-15分)：机构+游资共振最高分
  - 其他加分项 (0-10分)：买卖比例、主力集中度、热门概念等
- **排名展示**: TOP10排名，🥇🥈🥉奖牌标识
- **可视化图表**: 
  - 综合评分柱状图
  - 五维雷达图（第一名）
  - 进度条显示各维度得分
- **完整数据**: 显示所有上榜股票的评分排名

### 2. 龙虎榜综合分析
- **指定日期分析**: 分析特定日期的龙虎榜数据
- **最近N天分析**: 分析最近几天的数据（1-10天）
- **AI多维度分析**: 5位分析师从不同角度深度分析
- **推荐股票清单**: 自动筛选次日大概率上涨的股票

### 3. 数据可视化
- **AI评分排名图表**: 综合评分柱状图、五维雷达图
- **资金净流入图表**: TOP20股票资金流向
- **热门概念分布**: 概念出现频次统计
- **活跃游资排名**: 游资净流入排行
- **详细数据表格**: 完整的龙虎榜数据展示

### 4. 历史记录管理
- **自动存储**: 所有龙虎榜数据自动保存到数据库
- **历史报告**: 查看历史分析报告
- **数据统计**: 统计总记录数、股票数、游资数
- **趋势分析**: 分析历史活跃游资和热门股票

### 5. PDF报告生成
- **专业报告**: 生成完整的PDF分析报告
- **包含内容**:
  - 数据概况统计
  - AI推荐股票清单
  - 5位分析师的详细报告
  - 可视化图表
  - 免责声明

## 🚀 使用指南

### 1. 启动系统
```bash
streamlit run app.py
```

### 2. 进入智瞰龙虎
- 点击侧边栏的 **🎯 智瞰龙虎** 按钮

### 3. 设置分析参数
- **分析模式**: 选择"指定日期"或"最近N天"
- **日期选择**: 选择要分析的龙虎榜日期（建议选择昨日）
- **AI模型**: 选择deepseek-chat或deepseek-reasoner

### 4. 开始分析
- 点击 **🚀 开始分析** 按钮
- 系统会自动：
  1. 获取龙虎榜数据
  2. 保存到数据库
  3. 进行数据统计
  4. AI分析师团队分析（约10分钟）
  5. 生成推荐股票清单
  6. 保存分析报告

### 5. 查看结果
- **🏆 AI评分排名**: 查看智能评分排名和图表（首选）
  - TOP10综合评分排名表
  - 评分柱状图和雷达图
  - 完整排名列表
- **🎯 推荐股票**: 查看AI筛选的潜力股
- **🤖 AI分析师报告**: 查看5位分析师的详细分析
- **📊 数据详情**: 查看龙虎榜原始数据
- **📈 可视化图表**: 查看数据图表

### 6. 导出报告
- 点击 **📥 生成PDF** 按钮
- 下载专业的PDF分析报告

## 📁 文件结构

```
智瞰龙虎模块/
├── longhubang_data.py         # 数据获取模块
├── longhubang_db.py            # 数据库管理模块
├── longhubang_agents.py        # AI分析师模块
├── longhubang_engine.py        # 综合分析引擎
├── longhubang_pdf.py           # PDF报告生成模块
├── longhubang_ui.py            # UI界面模块
└── longhubang.db               # SQLite数据库（自动创建）
```

## 🗄️ 数据库结构

### 1. longhubang_records（龙虎榜记录表）
- 存储所有龙虎榜原始数据
- 包含字段：日期、股票代码、股票名称、游资名称、营业部、买入金额、卖出金额、净流入金额、概念等
- 创建了日期、股票代码、游资名称、净流入金额的索引

### 2. longhubang_analysis（分析报告表）
- 存储AI分析报告
- 包含字段：分析日期、数据日期范围、分析内容、推荐股票、摘要等

### 3. stock_tracking（股票追踪表）
- 记录推荐股票的后续表现
- 用于跟踪AI推荐的准确性

## ⚙️ 配置说明

### API配置
龙虎榜数据使用StockAPI接口，普通请求每日免费1000次，无需额外配置。

如需提高请求限额，可以在系统中配置API密钥（可选）。

### AI模型配置
系统使用DeepSeek AI模型，需要在环境配置中设置：
- `DEEPSEEK_API_KEY`: DeepSeek API密钥
- `DEEPSEEK_BASE_URL`: API地址（默认：https://api.deepseek.com/v1）

## 💡 使用建议

### 1. 最佳分析时间
- 建议在**交易日晚上6点后**进行分析
- 此时龙虎榜数据已更新完成

### 2. 推荐股票使用
- 重点关注**首席策略师**推荐的TOP5-8只股票
- 参考**确定性评级**：高>中>低
- 注意查看**风险控制专家**的警示
- 严格执行**止损位**，控制风险

### 3. 题材把握
- 关注**题材追踪分析师**识别的热点题材
- 优先选择处于**萌芽期或爆发期**的题材
- 避免**高潮期或退潮期**的题材

### 4. 游资跟踪
- 关注**知名游资**（如赵老哥、章盟主等）的动向
- 多席位联合买入的股票往往更强势
- 警惕游资"一日游"后快速撤离的股票

### 5. 资金分配
- **高确定性股票**：可以重仓（30-40%）
- **中等确定性股票**：中等仓位（20-30%）
- **低确定性股票**：轻仓试探（10-15%）
- 保留一定现金应对突发情况

## ⚠️ 风险提示

1. **市场风险**：股票市场存在风险，投资需谨慎
2. **AI局限**：AI分析仅供参考，不构成投资建议
3. **数据延迟**：龙虎榜数据为T日数据，存在时间差
4. **游资风险**：游资操作灵活，可能快速撤离
5. **题材风险**：题材炒作存在泡沫，注意及时止盈

## 🔧 技术支持

如遇到问题，请检查：
1. 网络连接是否正常
2. DeepSeek API密钥是否正确
3. 数据库文件是否有写入权限
4. Python依赖包是否完整安装

## 📝 更新日志

### v1.0 (2024-10-17)
- ✅ 完成智瞰龙虎功能开发
- ✅ 实现龙虎榜数据获取（StockAPI接口）
- ✅ 实现5位AI分析师多维度分析
- ✅ 实现数据库存储和历史记录
- ✅ 实现数据可视化和图表展示
- ✅ 实现PDF报告生成
- ✅ 集成到主应用

## 📚 参考资料

- [StockAPI龙虎榜接口文档](https://www.stockapi.com.cn/)
- [龙虎榜基础知识](https://baike.baidu.com/item/龙虎榜)
- [游资操作手法解析](https://www.zhihu.com/topic/19571608)

---

**注意**: 本系统由AI自动生成分析报告，仅供学习和参考，不构成投资建议。市场有风险，投资需谨慎！

